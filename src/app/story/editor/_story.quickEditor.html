<div class="quick-editor">
  <section class="quick-editor__preview">
    <ul class="list--pagePreviews">
      <li ng-repeat="page in modalVM.story.pages">
        <div ng-class="{
                'state--completed' : !page.imageUpdating,
                'state--processing' : page.imageUpdating,
                'state--deleting' : page.states.deleting
              }"
             class="pagePreview"
             back-img="{{page.background_image_urls[0].original}}">
          <div class="pagePreview__shade"
               ng-style="{
                transform: 'translateX(' + page.imageProgress + '%)'
               }"></div>
          <button ng-click="modalVM.deletePage(page, $index)"
                  class="pagePreview__remove btn btn--removePlain">
            <span class="icon icon-cancel"></span>
          </button>
          <div class="pagePreview__progressIndicator">
            <span class="text hide--completed">
              <span ng-hide="page.imageProgress == 100"><span ng-bind="page.imageProgress"></span>%</span>
              <span ng-show="page.imageProgress == 100" class="icon icon-spin2 animate-spin"></span>
            </span>
            <span class="icon icon-ok show--completed m--inline"></span>
          </div>
          <span class="deleting-indicator icon icon-spin2 animate-spin show--deleting"></span>
        </div>
      </li>
      <li ng-repeat="page in modalVM.pendingPages">
        <div class="pagePreview pagePreview--pending">
          creating page...
        </div>
      </li>
    </ul>
  </section>
  <section class="quick-editor__options">
    <h2 class="heading--thickBig">Quick Editor</h2>
    <button class="btn btn--major" ngf-select="modalVM.addPage($file);">
      <span class="icon icon-picture icon--margin"></span>
      Upload Images
    </button>
    <p class="text--average">
      Drag and drop images here to add new pages
    </p>
    <p class="text--average">
      Rearrange the order of your pages by dragging and dropping them
    </p>
    <button ng-click="modalVM.done();" class="modal-complete btn btn--major">Done</button>
  </section>
</div>
